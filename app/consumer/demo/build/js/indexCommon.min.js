"use strict";function revealOnScroll(){var e=$(window).scrollTop();$(".product-cot").each(function(){var a=$(this),t=$(window).outerHeight(),n=a.offset().top;e+t-160>n?a.addClass("visible"):a.removeClass("visible")})}function Numbers(e,a){var t=a.split("");$(t).each(function(a,t){var n=$(e).eq(a);n.children("li").removeClass("before").removeClass("active"),t>0?(n.children("li").eq(t-1).addClass("before").removeClass("active"),n.children("li").eq(t).addClass("active").closest("body").addClass("play")):n.children("li").eq(0).closest("body").addClass("play")})}function numberflip(e,a){var t=document.createElement("div");t.setAttribute("class","number-container");for(var n=0;a>n;n++){var r=document.createElement("ul");r.setAttribute("class","flip");for(var o=0;a>o;o++){var l=document.createElement("li");l.innerHTML='<a href="#"><div class="up"><div class="shadow"></div><div class="inn">'+o+'</div></div><div class="down"><div class="shadow"></div><div class="inn">'+o+"</div></div></a>",r.appendChild(l)}t.appendChild(r)}$(e).append(t)}$(window).scroll(function(){var e=$(document).scrollTop();e>80&&$(".header").hasClass("index-header")?$(".index-header").css({"background-color":"#002a4f","z-index":"999"}):$(".index-header").css({"background-color":"transparent","z-index":"999"})}),$("#backTop").click(function(){var e=$(window).scrollTop();e>0&&$("html,body").animate({scrollTop:0},700)}),$(window).on("scroll",revealOnScroll);var calculatorMain=function(e){return e.defaultValue=function(e){return e=e||{},e.winRateNumber=Number($("#quantity").val()),e.oneProfit=Number($("#profit").val()),e.sweeprate=parseFloat($("#SweepRate").text()/100),e.buyingRate=parseFloat($("#buyingRate").text()/100),e.NotbuyingRate=parseFloat($("#NotbuyingRate").text()/100),e},e.addWinColumn=function(){var e=["一等奖价格：","二等奖价格：","三等奖价格：","四等奖价格：","五等奖价格：","六等奖价格：","七等奖价格：","八等奖价格：","九等奖价格：","十等奖价格："],a=$("#winColumnMain li").length,t=$("#winColumnMain").children("li:last");if(a>=10)alert("已经超过最大奖品添加数量");else{var n=t.clone(!0);n.insertAfter(t),n.find("label").html(e[a])}},e.commafy=function(e){if(e+="",e=e.replace(/[ ]/g,""),""!==e&&!isNaN(e)){var a=e.indexOf(".");if(-1===a)for(var t=/(-?\d+)(\d{3})/;t.test(e);)e=e.replace(t,"$1,$2");else{for(var n=e.substring(0,a),r=e.substring(a+1,e.length),t=/(-?\d+)(\d{3})/;t.test(n);)n=n.replace(t,"$1,$2");e=n+"."+r}return e}},e.commonDivisor=function(e,a){for(var t=Math.min(e,a);t>0;t--)if(e%t===0&&a%t===0)return t},e.winRate=function(){var a;return a=e.codeNumber()/e.defaultValue().winRateNumber,$("#winerRate").html(parseFloat(100*a).toFixed(2)),a},e.codeNumber=function(){var e=0;return $('#winColumnMain li input[data-num="calculator-num"]').each(function(){e+=Number($(this).val())}),e},e.addPersonInfo=function(){var a=e.commafy(parseInt(e.defaultValue().winRateNumber*e.defaultValue().sweeprate*e.winRate()));$("#userInfo").html(a)},e.setAllmoney=function(){var e=0;return $("#winColumnMain li").each(function(){var a=$(this).find("input").eq(0).val(),t=$(this).find("input").eq(1).val();e+=parseFloat(a*t)}),e},e.addSell=function(){var a=e.defaultValue().winRateNumber*e.defaultValue().oneProfit*e.defaultValue().sweeprate,t=e.winRate()*e.defaultValue().buyingRate+(1-e.winRate())*e.defaultValue().NotbuyingRate,n=a*t+.1*e.setAllmoney();$("#sell").html(e.commafy(parseInt(n)));var r=e.commonDivisor(parseInt(n),parseInt(e.setAllmoney()));$("#ratio").html("1 : "+parseFloat(n/r/(e.setAllmoney()/r)).toFixed(2))},e.isNum=function(){var e;return $(".calculator-left input").each(function(){var a=$(this).val();e=!isNaN(a)}),e},e.CheckText=function(){var e;return $("#winColumnMain li input").each(function(){e=""!==$(this).val()}),e},e.init=function(){e.codeNumber()>e.defaultValue().winRateNumber?$(".error").show().html("奖品数量不可以大于附码商品数量"):e.defaultValue().winRateNumber<5e4?$(".error").show().html("奖品数量不可以小于50000"):""===e.defaultValue().winRateNumber||""==e.defaultValue().oneProfit||0==e.CheckText()||0==e.isNum()?$(".error").show().html("请正确填写完成必填字段"):($(".error").hide(),e.addPersonInfo(),e.addSell(),e.setAllmoney())},e}(calculatorMain||{});$(".rlt-affirm").on("click",function(){$.ajax({type:"post",url:linPhoneUrl,data:{phone:$("#linkPhone").val()},success:function(e){e.status?($(".dialogFloat").fadeIn(),$(".dialogFloat-cot p ").html("<font>恭喜您提交成功</font><br>我们的销售人员将尽快与您联系！")):($(".dialogFloat").fadeIn(),$(".dialogFloat-cot p ").html("<font>对不起请输入正确的手机号码!</font>"))}}),$(".dialogFloat").fadeIn()}),$("#close").click(function(){$(".dialogFloat").fadeOut()}),$("#close").click(function(){$(".dialogFloat").fadeOut()}),numberflip(".number",10),numberflip(".number-small",10),function(){for(var e="",a=$(window).width(),t=["meteorShower-1","meteorShower-2","meteorShower-3"],n=[2500,4500,7500],r=function(e){var a=e.length;return e[parseInt(a*Math.random(),10)%a]},o=0;10>o;o++)e+='<div class="meteorShower meteorShower-left"><div class="meteorShower-star"></div></div>';$(".meteor-shower").append(e),$(".meteorShower-star").each(function(){$(this).addClass(t[Math.floor(3*Math.random())])}),$(".meteorShower").each(function(){$(this).css("left",parseInt(1.5*a*Math.random(),10)-.5*a+"px")});var l=function(){for(var e=0;e<$(".meteorShower-star").length;e++)$(".meteorShower-star").eq(e).css({"animation-delay":r(n)+"ms","animation-duration":r(n)+"ms"})};setInterval(l(),1e4)}();
//# sourceMappingURL=indexCommon.min.js.map
